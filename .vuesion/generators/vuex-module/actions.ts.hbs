import { ActionContext } from 'vuex';
import { IState } from '@/interfaces/IState';
import { I{{ properCase singularName }} } from '@/interfaces/I{{ properCase singularName }}';
import { I{{ properCase singularName }}State } from './state';

export interface I{{ properCase singularName }}Actions {
  fetch{{ properCase pluralName }}(context: ActionContext<I{{ properCase singularName }}State, IState>): Promise<any>;
  fetch{{ properCase singularName }}(context: ActionContext<I{{ properCase singularName }}State, IState>, id: string): Promise<any>;
  create{{ properCase singularName }}(context: ActionContext<I{{ properCase singularName }}State, IState>, user: I{{ properCase singularName }}): Promise<any>;
  update{{ properCase singularName }}(context: ActionContext<I{{ properCase singularName }}State, IState>, user: I{{ properCase singularName }}): Promise<any>;
  delete{{ properCase singularName }}(context: ActionContext<I{{ properCase singularName }}State, IState>, user: I{{ properCase singularName }}): Promise<any>;
}

export const {{ properCase singularName }}Actions: I{{ properCase singularName }}Actions = {
  async fetch{{ properCase pluralName }}({ commit }) {
    const data = await this.$axios.$get('/{{ camelCase pluralName }}');
    commit('SET_{{ constantCase pluralName }}', data);
  },
  async fetch{{ properCase singularName }}({ commit }, id) {
    const data = await this.$axios.$get(`/{{ camelCase pluralName }}/${id}`);
    commit('SET_CURRENT_{{ constantCase singularName }}', data);
  },
  async create{{ properCase singularName }}({ commit }, user) {
    const data = await this.$axios.$post('/{{ camelCase pluralName }}', user);
    commit('ADD_{{ constantCase singularName }}', data);
  },
  async update{{ properCase singularName }}({ commit }, user) {
    const data = await this.$axios.$put(`/{{ camelCase pluralName }}/${user.id}`, user);
    commit('UPDATE_{{ constantCase singularName }}', data);
  },
  async delete{{ properCase singularName }}({ commit }, user) {
    await this.$axios.$delete(`/{{ camelCase pluralName }}/${user.id}`);
    commit('DELETE_{{ constantCase singularName }}', user);
  },
};
